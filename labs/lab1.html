<html>
<link rel="stylesheet" href="../cpp2html.css">
<!-- http://bedaux.net/cpp2html/ -->
<body>

<pre><span class="pre">#include &lt;fstream&gt;
#include &lt;iostream&gt;
</span><span class="keyword">using namespace</span> std<span class="operator">;</span><span class="pre">

#define EPSILON 1e-13
</span><span class="comment">
/**
 Utility function for reading in four values from an input stream that describe a sequence.
 The first, second, and fourth inputs should be integers, while the third should be a character.
 Returns true if all input types match and no other I/O error occurs, otherwise returns false.
 May read fewer than four values if an error occurs.

 @param min  [output argument] The minimum value for the sequence (the next value in the stream)
 @param max  [output argument] The maximum value for the sequence (the second value in the stream)
 @param type [output argument] The type of the sequence (the third value in the stream)
 @param opt  [output argument] The delta or number of elements for the sequence (the fourth value)
 @param in   The input stream (cin or ifstream) from which values are read
 
 @return Returns true if no errors occurred during input

 @author William Hendrix, 2014
 */</span><span class="type">
bool</span> getValidSequence<span class="operator">(</span><span class="type">int</span><span class="operator">&amp;</span> min<span class="operator">,</span><span class="type"> int</span><span class="operator">&amp;</span> max<span class="operator">,</span><span class="type"> char</span><span class="operator">&amp;</span> type<span class="operator">,</span><span class="type"> int</span><span class="operator">&amp;</span> opt<span class="operator">,</span> istream<span class="operator">&amp;</span> in<span class="operator">)
{</span>
  in<span class="operator"> &gt;&gt;</span> min<span class="operator"> &gt;&gt;</span> max<span class="operator"> &gt;&gt;</span> type<span class="operator"> &gt;&gt;</span> opt<span class="operator">;</span><span class="flow">
  return</span><span class="operator"> !</span>in<span class="operator">.</span>fail<span class="operator">;
}</span><span class="comment">

/** 
  Descriptive comment goes here

  @author Me, Year
 */</span><span class="type">
int</span><span class="keyword"> main</span><span class="operator">()
{</span><span class="type">
  int</span> min<span class="operator">,</span> max<span class="operator">,</span> count<span class="operator">;</span><span class="type">
  char</span> type<span class="operator">;</span><span class="type">
  double</span> option<span class="operator">,</span> delta<span class="operator">;</span>

  ifstream file<span class="operator">(</span><span class="string">"p1input.txt"</span><span class="operator">);</span><span class="flow">

  while</span><span class="operator"> (</span>getValidSequence<span class="operator">(</span>min<span class="operator">,</span> max<span class="operator">,</span> type<span class="operator">,</span> option<span class="operator">,</span> file<span class="operator">))
  {</span><span class="comment">
    //cout &lt;&lt; "That is sequence " &lt;&lt; min &lt;&lt; ":" &lt;&lt; max &lt;&lt; ", with " &lt;&lt; type &lt;&lt; " = " &lt;&lt; option &lt;&lt; endl;
</span><span class="flow">
    if</span><span class="operator"> (</span>min<span class="operator"> &gt;</span> max<span class="operator">)
    {</span>
      cout<span class="operator"> &lt;&lt;</span><span class="string"> "Invalid max and min values\n"</span><span class="operator">;</span><span class="flow">
      continue</span><span class="operator">;
    }</span><span class="flow">

    if</span><span class="operator"> (</span>type<span class="operator"> ==</span><span class="char"> 'd'</span><span class="operator">)
    {</span><span class="flow">
      if</span><span class="operator"> (</span>option<span class="operator"> &lt;=</span><span class="int"> 0</span><span class="operator">)
      {</span>
        cout<span class="operator"> &lt;&lt;</span><span class="string"> "Invalid value for delta\n"</span><span class="operator">;</span><span class="flow">
        continue</span><span class="operator">;
      }</span>
      delta<span class="operator"> =</span><span class="keyword"> static_cast</span><span class="operator">&lt;</span><span class="type">double</span><span class="operator">&gt;(</span>option<span class="operator">);</span>
      count<span class="operator"> =</span><span class="keyword"> static_cast</span><span class="operator">&lt;</span><span class="type">int</span><span class="operator">&gt;((</span>max<span class="operator"> -</span> min<span class="operator">) /</span> delta<span class="operator"> +</span> EPSILON<span class="operator">);
    }</span><span class="flow">
    else if</span><span class="operator"> (</span>type<span class="operator"> ==</span><span class="char"> 'n'</span><span class="operator">)
    {</span>
      count<span class="operator"> =</span><span class="keyword"> static_cast</span><span class="operator">&lt;</span><span class="type">int</span><span class="operator">&gt;(</span>option<span class="operator">) -</span><span class="int"> 1</span><span class="operator">;</span><span class="flow">
      if</span><span class="operator"> (</span>count<span class="operator"> &lt;</span><span class="int"> 0</span><span class="operator"> ||</span> count<span class="operator"> ==</span><span class="int"> 0</span><span class="operator"> &amp;&amp;</span> max<span class="operator"> &gt;</span> min<span class="operator">)
      {</span>
        cout<span class="operator"> &lt;&lt;</span><span class="string"> "Invalid number of elements\n"</span><span class="operator">;</span><span class="flow">
        continue</span><span class="operator">;
      }</span>
      delta<span class="operator"> =</span><span class="keyword"> static_cast</span><span class="operator">&lt;</span><span class="type">double</span><span class="operator">&gt;(</span>max<span class="operator"> -</span> min<span class="operator">) / (</span>option<span class="operator"> -</span><span class="int"> 1</span><span class="operator">);
    }</span><span class="flow">
    else</span><span class="operator">
    {</span>
      cout<span class="operator"> &lt;&lt;</span><span class="string"> "Invalid sequence type\n"</span><span class="operator">;</span><span class="flow">
      continue</span><span class="operator">;
    }</span>

    cout<span class="operator"> &lt;&lt;</span> min<span class="operator">;</span><span class="flow">
    for</span><span class="operator"> (</span><span class="type">int</span> j<span class="operator"> =</span><span class="int"> 1</span><span class="operator">;</span> j<span class="operator"> &lt;=</span> count<span class="operator">;</span> j<span class="operator">++)</span>
      cout<span class="operator"> &lt;&lt;</span><span class="string"> " "</span><span class="operator"> &lt;&lt;</span> min<span class="operator"> +</span> j<span class="operator"> *</span> delta<span class="operator">;</span>
    cout<span class="operator"> &lt;&lt;</span> endl<span class="operator">;
  }</span><span class="type">
  
  char</span> c<span class="operator">;</span>
  cin<span class="operator"> &gt;&gt;</span> c<span class="operator">;</span><span class="flow">
  return</span><span class="int"> 0</span><span class="operator">;
}</span>
</pre>






</body>
</html>