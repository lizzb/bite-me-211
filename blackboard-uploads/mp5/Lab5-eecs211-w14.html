<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<!-- saved from url=(0130)https://courses.northwestern.edu/bbcswebdav/pid-5055294-dt-content-rid-13669232_1/courses/2014WI_EECS_211-0_SEC21/Lab5%283%29.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
   <meta name="Generator" content="Microsoft Word 97">
   <meta name="Template" content="C:\Program Files\Microsoft Office\Office\html.dot">
   <meta name="GENERATOR" content="Mozilla/4.73 [en]C-{C-UDP; EBM-SONY1}  (Windows NT 5.0; U) [Netscape]">
   <title>EECS 211 Winter 2014</title>
</head>
<body link="#0000FF" vlink="#800080">
<center>
<h2>Lab 5:  A Programmable Calculator</h2>
<p><b>EECS 211, Winter 2014</b></p>
<p><b>Due:</b> Feb. 24, 11:59pm</p>
</center>

<h3>Objective:</h3>
<p> In Lab 5, you will extend your solution to Lab 3 to implement a programmable calculator. 
Through this lab, you will gain a better understanding of classes and their role in developing solutions to more complex problems.  
Specifically, this assignment will help you:</p>

<ol>
 <li> think about how to organize code into classes; </li>
 <li> implement class member functions, including constructors and destructors; </li>
 <li> learn how to instantiate class objects to solve problems; and </li>
 <li> further develop your debugging skills. </li>
</ol>

<h3>Problem Description</h3>

<p> In this lab, you will extend your Lab 3 solution with two new classes that will allow you to store and retrieve variables.  
Using these, your Mini-Matlab program should be able to compute and evaluate expressions involving scalar (non-matrix) values.  
Specifically, you will implement a CVariable class to represent the variables defined by the user and a CVarDB class to help organize and retrieve them for your Mini-Matlab program.</p>

<p> The CVariable class should store the name and value of a user-defined variable.  
As we are not going to incorporate matrix operations in this assignment, you can use a double to store the variable value and a char array (char*) to hold the name.  
Your CVariable class should implement the following member functions, though you may add additional functionality to the class:</p>
<ul>
 <li> <pre>CVariable(const char* name)</pre>  initializes a CVariable with a given name and value 0 </li> 
 <li> <pre>CVariable(const char* name, double value)</pre>  initializes a CVariable with a given name and value </li> 
 <li> <pre>CVariable(const CVariable&amp; copy)</pre>  copy constructor </li> 
 <li> <pre>~CVariable()</pre>  destroys the CVariable </li>
 <li> <pre>CVariable&amp; operator=(double newValue)</pre>  set the value of this CVariable (returns the CVariable) </li> 
 <li> <pre>CVariable&amp; operator=(CVariable&amp; newValue)</pre>  set the value of this CVariable to match that of the given CVariable (returns the CVariable) </li> 
 <li> <pre>double&amp; operator*()</pre>  return a reference to the value stored in this CVariable </li> 
 <li> <pre>double operator*() const</pre>  return the value stored in a const CVariable </li>
 <li> <pre>const char* getName() const</pre>  return the name of this CVariable </li> 
</ul>

<p> The CVarDB class should store and manage the collection of all currently defined variables in a vector.  
(The CVarDB should also manage the "automatic" variable ans.  
Your CVarDB class should also implement the following member functions:</p>

<ul>
 <li> <pre>CVarDB()</pre>  initializes the variable database to contain only the ans variable</li> 
 <li> <pre>~CVarDB()</pre> destroys the DB</li>
 <li> <pre>bool add(CVariable* newvar)</pre>  adds a new CVariable to the DB; returns false if the variable name is already taken </li> 
 <li> <pre>CVariable* search(const char* name)</pre>  returns a pointer to the CVariable in the DB with the given name or NULL if not found </li> 
</ul>

<p> You will need to update your main.cpp file from Lab 3 so that your command interpreter will be able to accomplish the following:

</p><ul>
  <li> recognize variables, numbers, and operators </li> 
  <li> perform operations for =, +, -, *, /, ++, and -- (compound operators, like +=, -=, etc., are a bonus)</li>
  <li> construct and manage a "system variable database" to hold all the variables</li>
  <li> register, modify, and retrieve variable values as necessary </li>
  <li> recognize the "who" command and print out all of the currently defined variables in response</li>
  <li> report the results or appropriate error messages to the user</li>
  <li> recognize the "quit" command to end the program </li>
</ul>

<p> Your program does not need to be able to recognize or implement any matrices or matrix operations, as these features will be integrated in a future assignment.  In order to have a single, universal database for variables, you may wish to declare a CVarDB pointer as a global variable and refer to this in your main.cpp file.
To aid in the above tasks, you may wish to define the following auxilliary functions (in main.cpp):</p>

<ul>
 <li> <pre>bool assign(const char* lhs, const char* rhs)</pre>  performs a simple assignment statement, like "x = 1"; returns true if there is some error in the assignment and false otherwise </li> 
 <li> <pre>bool unary_op(const char* variable, OP unary_op)</pre>  performs a unary operator statement, like "x++"; returns true if there is some error during the operation and false otherwise </li> 
 <li> <pre>bool binary_op(const char* left, OP operator, const char* right)</pre>  performs a binary operator assignment, such as " d = 6.28 * r"; returns true if there is some error during the operation and false otherwise  </li>
 <li> <pre>bool binary_assign(const char* assign_var, const char* left, OP operator, const char* right)</pre>  performs a binary operator assignment, such as " d = 6.28 * r"; returns true if there is some error during the operation and false otherwise </li>
 <li> <pre>bool get_value(const char* expression, double&amp; value)</pre>  evaluates a numeric string or variable name to its numeric value; returns true if expression is an invalid number or variable does not exist</li>
 <li> <pre>ostream&amp; operator&lt;&lt;(ostream&amp; out, CVariable&amp; cvar)</pre>  prints out a CVariable </li>
 <li> <pre>ostream&amp; operator&lt;&lt;(ostream&amp; out, CVarDB&amp; cdb)</pre>  prints out every CVariable in the DB </li>
</ul>

<h3>How to submit your work:</h3>
<p> Please include the definitions for the CVariable and CVarDB classes in cvariable.h and their member function implementations in cvariable.cpp.  
Submit these two files along with an updated main.cpp file (including any auxilliary functions) to the lab assignment appropriate to your IDE.</p>

<h3>Grading</h3>
<table>
 <tbody><tr>
  <th>25%&nbsp;</th>
  <td> Correct usage of C++ concepts</td>
 </tr>
 <tr>
  <th>25%&nbsp;</th>
  <td> Visual appearance of the code </td>
 </tr>
 <tr>
  <th>50%&nbsp;</th>
  <td>Correct functionality</td>
 </tr>
</tbody></table>


</body></html>